# -------------------------------------------------------------------
# General aliases
# -------------------------------------------------------------------
alias update='sudo apt-get update && sudo apt-get upgrade -y'
alias install='sudo apt-get update && sudo apt-get install -y'
alias clean='sudo apt-get autoremove -y && sudo apt-get autoclean -y'

# -------------------------------------------------------------------
# VIM
# -------------------------------------------------------------------
alias v=vim
alias gv=gvim

# -------------------------------------------------------------------
# Git aliases
# -------------------------------------------------------------------
alias gl="git log --oneline --graph"
alias gp="git push"
alias ga="git add "
alias gs="git status"
alias gr="git reset"
alias gd="git diff -w"
alias gc="git commit"
alias gpl="git pull"
alias gcl="git clone"

# More colorful/ informative git log
alias gl1="git log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all"
alias gl2="git log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)' --all"

# -------------------------------------------------------------------
# Ruby/Rails aliases
# -------------------------------------------------------------------
alias be="bundle exec"

# -------------------------------------------------------------------
# Python/Django aliases
# -------------------------------------------------------------------
# Running Django development server
# Usage: dj port_number(int)
# TODO: accept default port of 8000
dj() {
    python manage.py runserver 0.0.0.0:"$1"
}

alias activate='source env/bin/activate'

# Alias vagrant
alias vupp='vagrant up --provision'
alias vrep='vagrant reload --provision'

# -------------------------------------------------------------------
# Python/Django aliases
# -------------------------------------------------------------------
# Fix dropbox icon hiding problem in XFCE
dropbox_fix() {
    dropbox stop &&
    DBUS_SESSION_BUS_ADDRESS=''
    dropbox start
}

# Running command in a loop
# Usage: 'run_loops times(int) command'
run_loops() {
    number=$1
    shift
    for i in `seq $number`; do
    $@
    done
}

# Kill certain port (with sudo)
# Usage: kill_port no(int)
kill_port()
{
    sudo kill -9 $(sudo lsof -t -i:"$1")
}

# Map PortA to PortB using iptables
# Usage: map_port portA(int) portB(int)
map_port()
{
    sudo iptables -t nat -A OUTPUT -o lo -p tcp --dport "$1" -j REDIRECT --to-port "$2"
}

# More aliases files
if [ -f ~/.zsh_aliases.logit ]; then
    source ~/.zsh_aliases.logit
fi
